{"ast":null,"code":"var _jsxFileName = \"/Users/yanmeiri/Library/Mobile Documents/com~apple~CloudDocs/Bank/frontend/src/pages/Deposit.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Dialog, DialogActions, DialogContent, DialogTitle, Button, TextField, Typography, CircularProgress } from '@mui/material';\nimport { axiosi } from '../config/Axios'; // Axios instance for API requests\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Deposit = ({\n  openDepositDialog,\n  handleCloseDepositDialog\n}) => {\n  _s();\n  const [amount, setAmount] = useState(''); // State to store the deposit amount\n  const [loading, setLoading] = useState(false); // Loading state for submit\n  const [error, setError] = useState(''); // State for error messages\n  const [success, setSuccess] = useState(''); // State for success messages\n\n  const handleAmountChange = e => {\n    setAmount(e.target.value); // Update the amount state\n  };\n  const handleSubmitDeposit = async () => {\n    if (!amount || isNaN(amount) || Number(amount) <= 0) {\n      setError('Please enter a valid amount to deposit.');\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await axiosi.post('transaction/deposit', {\n        amount\n      }); // Send deposit request to backend\n      setSuccess(response.data.message); // On success, display success message\n      setAmount(''); // Clear the amount input\n      setTimeout(() => window.location.reload(), 1000); // Close dialog after a short delay\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Error occurred while processing the deposit.');\n    } finally {\n      setLoading(false); // End loading state\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: openDepositDialog,\n    onClose: handleCloseDepositDialog,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: \"Deposit Money\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        autoFocus: true,\n        margin: \"dense\",\n        label: \"Amount\",\n        type: \"number\",\n        fullWidth: true,\n        variant: \"outlined\",\n        value: amount,\n        onChange: handleAmountChange,\n        error: Boolean(error),\n        helperText: error,\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), success && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        color: \"primary\",\n        sx: {\n          marginTop: 2\n        },\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleCloseDepositDialog,\n        color: \"secondary\",\n        disabled: loading,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleSubmitDeposit,\n        color: \"primary\",\n        disabled: loading,\n        children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 24,\n          color: \"secondary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 32\n        }, this) : 'Deposit'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n_s(Deposit, \"Xmxb/w1gguExhNNyCmoF03mzj1s=\");\n_c = Deposit;\nexport default Deposit;\nvar _c;\n$RefreshReg$(_c, \"Deposit\");","map":{"version":3,"names":["React","useState","Dialog","DialogActions","DialogContent","DialogTitle","Button","TextField","Typography","CircularProgress","axiosi","jsxDEV","_jsxDEV","Deposit","openDepositDialog","handleCloseDepositDialog","_s","amount","setAmount","loading","setLoading","error","setError","success","setSuccess","handleAmountChange","e","target","value","handleSubmitDeposit","isNaN","Number","response","post","data","message","setTimeout","window","location","reload","err","_err$response","_err$response$data","open","onClose","children","fileName","_jsxFileName","lineNumber","columnNumber","autoFocus","margin","label","type","fullWidth","variant","onChange","Boolean","helperText","disabled","color","sx","marginTop","onClick","size","_c","$RefreshReg$"],"sources":["/Users/yanmeiri/Library/Mobile Documents/com~apple~CloudDocs/Bank/frontend/src/pages/Deposit.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Dialog, DialogActions, DialogContent, DialogTitle, Button, TextField, Typography, CircularProgress } from '@mui/material';\nimport { axiosi } from '../config/Axios'; // Axios instance for API requests\n\nconst Deposit = ({ openDepositDialog, handleCloseDepositDialog }) => {\n    const [amount, setAmount] = useState(''); // State to store the deposit amount\n    const [loading, setLoading] = useState(false); // Loading state for submit\n    const [error, setError] = useState(''); // State for error messages\n    const [success, setSuccess] = useState(''); // State for success messages\n\n    const handleAmountChange = (e) => {\n        setAmount(e.target.value); // Update the amount state\n    };\n\n    const handleSubmitDeposit = async () => {\n        if (!amount || isNaN(amount) || Number(amount) <= 0) {\n            setError('Please enter a valid amount to deposit.');\n            return;\n        }\n\n        setLoading(true);\n        try {\n            const response = await axiosi.post('transaction/deposit', { amount }); // Send deposit request to backend\n            setSuccess(response.data.message); // On success, display success message\n            setAmount(''); // Clear the amount input\n            setTimeout(() => window.location.reload(), 1000); // Close dialog after a short delay\n        } catch (err) {\n            setError(err.response?.data?.message || 'Error occurred while processing the deposit.');\n        } finally {\n            setLoading(false); // End loading state\n        }\n    };\n\n    return (\n        <Dialog open={openDepositDialog} onClose={handleCloseDepositDialog}>\n            <DialogTitle>Deposit Money</DialogTitle>\n            <DialogContent>\n                <TextField\n                    autoFocus\n                    margin=\"dense\"\n                    label=\"Amount\"\n                    type=\"number\"\n                    fullWidth\n                    variant=\"outlined\"\n                    value={amount}\n                    onChange={handleAmountChange}\n                    error={Boolean(error)}\n                    helperText={error}\n                    disabled={loading}\n                />\n                {success && (\n                    <Typography variant=\"body1\" color=\"primary\" sx={{ marginTop: 2 }}>\n                        {success}\n                    </Typography>\n                )}\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleCloseDepositDialog} color=\"secondary\" disabled={loading}>\n                    Cancel\n                </Button>\n                <Button onClick={handleSubmitDeposit} color=\"primary\" disabled={loading}>\n                    {loading ? <CircularProgress size={24} color=\"secondary\" /> : 'Deposit'}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default Deposit;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}