{"ast":null,"code":"var _jsxFileName = \"/Users/yanmeiri/Library/Mobile Documents/com~apple~CloudDocs/Bank/frontend/src/pages/Withdrawal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Dialog, DialogActions, DialogContent, DialogTitle, Button, TextField, Typography, CircularProgress } from '@mui/material';\nimport { axiosi } from '../config/Axios'; // Axios instance for API requests\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Withdrawal = ({\n  open,\n  handleClose\n}) => {\n  _s();\n  const [amount, setAmount] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const handleAmountChange = e => {\n    setAmount(e.target.value);\n  };\n  const handleSubmitWithdrawal = async () => {\n    if (!amount || isNaN(amount) || Number(amount) <= 0) {\n      setError('Please enter a valid amount to withdraw.');\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await axiosi.post('transaction/withdraw', {\n        amount\n      });\n      setSuccess(response.data.message); // On success, display success message\n      setAmount('');\n      setTimeout(() => window.location.reload(), 1000); // Close dialog after a short delay\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Error occurred while processing the withdrawal.');\n    } finally {\n      setLoading(false); // End loading state\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onClose: handleClose,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: \"Withdraw Money\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        autoFocus: true,\n        margin: \"dense\",\n        label: \"Amount\",\n        type: \"number\",\n        fullWidth: true,\n        variant: \"outlined\",\n        value: amount,\n        onChange: handleAmountChange,\n        error: Boolean(error),\n        helperText: error,\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), success && /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"green\",\n        sx: {\n          marginTop: 2\n        },\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 29\n      }, this), error && /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        sx: {\n          marginTop: 2\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleClose,\n        color: \"secondary\",\n        disabled: loading,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleSubmitWithdrawal,\n        color: \"primary\",\n        disabled: loading,\n        children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 24,\n          color: \"secondary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 32\n        }, this) : 'Withdraw'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n_s(Withdrawal, \"Xmxb/w1gguExhNNyCmoF03mzj1s=\");\n_c = Withdrawal;\nexport default Withdrawal;\nvar _c;\n$RefreshReg$(_c, \"Withdrawal\");","map":{"version":3,"names":["React","useState","Dialog","DialogActions","DialogContent","DialogTitle","Button","TextField","Typography","CircularProgress","axiosi","jsxDEV","_jsxDEV","Withdrawal","open","handleClose","_s","amount","setAmount","loading","setLoading","error","setError","success","setSuccess","handleAmountChange","e","target","value","handleSubmitWithdrawal","isNaN","Number","response","post","data","message","setTimeout","window","location","reload","err","_err$response","_err$response$data","onClose","children","fileName","_jsxFileName","lineNumber","columnNumber","autoFocus","margin","label","type","fullWidth","variant","onChange","Boolean","helperText","disabled","color","sx","marginTop","onClick","size","_c","$RefreshReg$"],"sources":["/Users/yanmeiri/Library/Mobile Documents/com~apple~CloudDocs/Bank/frontend/src/pages/Withdrawal.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Dialog, DialogActions, DialogContent, DialogTitle, Button, TextField, Typography, CircularProgress } from '@mui/material';\nimport { axiosi } from '../config/Axios'; // Axios instance for API requests\n\nconst Withdrawal = ({ open, handleClose }) => {\n    const [amount, setAmount] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n\n    const handleAmountChange = (e) => {\n        setAmount(e.target.value);\n    };\n\n    const handleSubmitWithdrawal = async () => {\n        if (!amount || isNaN(amount) || Number(amount) <= 0) {\n            setError('Please enter a valid amount to withdraw.');\n            return;\n        }\n\n        setLoading(true);\n        try {\n            const response = await axiosi.post('transaction/withdraw', { amount });\n            setSuccess(response.data.message); // On success, display success message\n            setAmount('');\n            setTimeout(() => window.location.reload(), 1000); // Close dialog after a short delay\n        } catch (err) {\n            setError(err.response?.data?.message || 'Error occurred while processing the withdrawal.');\n        } finally {\n            setLoading(false); // End loading state\n        }\n    };\n\n    return (\n        <Dialog open={open} onClose={handleClose}>\n            <DialogTitle>Withdraw Money</DialogTitle>\n            <DialogContent>\n                <TextField\n                    autoFocus\n                    margin=\"dense\"\n                    label=\"Amount\"\n                    type=\"number\"\n                    fullWidth\n                    variant=\"outlined\"\n                    value={amount}\n                    onChange={handleAmountChange}\n                    error={Boolean(error)}\n                    helperText={error}\n                    disabled={loading}\n                />\n                {success && <Typography color=\"green\" sx={{ marginTop: 2 }}>{success}</Typography>}\n                {error && <Typography color=\"error\" sx={{ marginTop: 2 }}>{error}</Typography>}\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color=\"secondary\" disabled={loading}>\n                    Cancel\n                </Button>\n                <Button onClick={handleSubmitWithdrawal} color=\"primary\" disabled={loading}>\n                    {loading ? <CircularProgress size={24} color=\"secondary\" /> : 'Withdraw'}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default Withdrawal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}