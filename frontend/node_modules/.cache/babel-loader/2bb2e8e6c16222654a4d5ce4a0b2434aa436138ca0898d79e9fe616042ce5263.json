{"ast":null,"code":"var _jsxFileName = \"/Users/yanmeiri/Library/Mobile Documents/com~apple~CloudDocs/Bank/frontend/src/pages/Transfer.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Dialog, DialogActions, DialogContent, DialogTitle, Button, TextField, CircularProgress, Typography } from '@mui/material';\nimport { axiosi } from '../config/Axios'; // Axios instance for API requests\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Transfer = ({\n  openTransferDialog,\n  handleCloseTransferDialog\n}) => {\n  _s();\n  const [amount, setAmount] = useState('');\n  const [receiverEmail, setReceiverEmail] = useState('');\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false); // Loading state for the transfer process\n\n  const handleAmountChange = e => setAmount(e.target.value);\n  const handleReceiverEmailChange = e => setReceiverEmail(e.target.value);\n  const handleTransfer = async () => {\n    if (!amount || amount <= 0 || !receiverEmail) {\n      setMessage('Please provide both a valid amount and a receiver email.');\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await axiosi.post('/transaction/transfer', {\n        receiverEmail,\n        amount\n      });\n      setMessage(`Transfer successful. New balance: ${response.data.balance}`);\n      setAmount(''); // Clear input fields\n      setReceiverEmail('');\n      setTimeout(() => window.location.reload(), 1000); // Close dialog after 2 seconds\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setMessage(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Server error');\n    } finally {\n      setLoading(false); // End loading state\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: openTransferDialog,\n    onClose: handleCloseTransferDialog,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: \"Transfer Money\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Receiver's Email\",\n        type: \"email\",\n        fullWidth: true,\n        variant: \"outlined\",\n        value: receiverEmail,\n        onChange: handleReceiverEmailChange,\n        margin: \"dense\",\n        required: true,\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Amount\",\n        type: \"number\",\n        fullWidth: true,\n        variant: \"outlined\",\n        value: amount,\n        onChange: handleAmountChange,\n        margin: \"dense\",\n        required: true,\n        disabled: loading,\n        helperText: message && message,\n        error: Boolean(message)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), message && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: message.includes('successful') ? 'green' : 'red',\n        sx: {\n          marginTop: 1\n        },\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleCloseTransferDialog,\n        color: \"secondary\",\n        disabled: loading,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleTransfer,\n        color: \"primary\",\n        disabled: loading,\n        children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 24,\n          color: \"secondary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 32\n        }, this) : 'Transfer'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n_s(Transfer, \"lbrk6At3DFemW62TBYDU8ZxjiKE=\");\n_c = Transfer;\nexport default Transfer;\nvar _c;\n$RefreshReg$(_c, \"Transfer\");","map":{"version":3,"names":["React","useState","Dialog","DialogActions","DialogContent","DialogTitle","Button","TextField","CircularProgress","Typography","axiosi","jsxDEV","_jsxDEV","Transfer","openTransferDialog","handleCloseTransferDialog","_s","amount","setAmount","receiverEmail","setReceiverEmail","message","setMessage","loading","setLoading","handleAmountChange","e","target","value","handleReceiverEmailChange","handleTransfer","response","post","data","balance","setTimeout","window","location","reload","err","_err$response","_err$response$data","open","onClose","children","fileName","_jsxFileName","lineNumber","columnNumber","label","type","fullWidth","variant","onChange","margin","required","disabled","helperText","error","Boolean","color","includes","sx","marginTop","onClick","size","_c","$RefreshReg$"],"sources":["/Users/yanmeiri/Library/Mobile Documents/com~apple~CloudDocs/Bank/frontend/src/pages/Transfer.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Dialog, DialogActions, DialogContent, DialogTitle, Button, TextField, CircularProgress, Typography } from '@mui/material';\nimport { axiosi } from '../config/Axios'; // Axios instance for API requests\n\nconst Transfer = ({ openTransferDialog, handleCloseTransferDialog }) => {\n    const [amount, setAmount] = useState('');\n    const [receiverEmail, setReceiverEmail] = useState('');\n    const [message, setMessage] = useState('');\n    const [loading, setLoading] = useState(false); // Loading state for the transfer process\n\n    const handleAmountChange = (e) => setAmount(e.target.value);\n    const handleReceiverEmailChange = (e) => setReceiverEmail(e.target.value);\n\n    const handleTransfer = async () => {\n        if (!amount || amount <= 0 || !receiverEmail) {\n            setMessage('Please provide both a valid amount and a receiver email.');\n            return;\n        }\n\n        setLoading(true);\n        try {\n            const response = await axiosi.post('/transaction/transfer', { receiverEmail, amount });\n            setMessage(`Transfer successful. New balance: ${response.data.balance}`);\n            setAmount(''); // Clear input fields\n            setReceiverEmail('');\n            setTimeout(() => window.location.reload(), 1000); // Close dialog after 2 seconds\n        } catch (err) {\n            setMessage(err.response?.data?.message || 'Server error');\n        } finally {\n            setLoading(false); // End loading state\n        }\n    };\n\n    return (\n        <Dialog open={openTransferDialog} onClose={handleCloseTransferDialog}>\n            <DialogTitle>Transfer Money</DialogTitle>\n            <DialogContent>\n                <TextField\n                    label=\"Receiver's Email\"\n                    type=\"email\"\n                    fullWidth\n                    variant=\"outlined\"\n                    value={receiverEmail}\n                    onChange={handleReceiverEmailChange}\n                    margin=\"dense\"\n                    required\n                    disabled={loading}\n                />\n                <TextField\n                    label=\"Amount\"\n                    type=\"number\"\n                    fullWidth\n                    variant=\"outlined\"\n                    value={amount}\n                    onChange={handleAmountChange}\n                    margin=\"dense\"\n                    required\n                    disabled={loading}\n                    helperText={message && message}\n                    error={Boolean(message)}\n                />\n                {message && (\n                    <Typography variant=\"body2\" color={message.includes('successful') ? 'green' : 'red'} sx={{ marginTop: 1 }}>\n                        {message}\n                    </Typography>\n                )}\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleCloseTransferDialog} color=\"secondary\" disabled={loading}>\n                    Cancel\n                </Button>\n                <Button onClick={handleTransfer} color=\"primary\" disabled={loading}>\n                    {loading ? <CircularProgress size={24} color=\"secondary\" /> : 'Transfer'}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default Transfer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}